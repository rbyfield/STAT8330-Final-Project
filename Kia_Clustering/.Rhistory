ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#Prec for each month
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + tempseries[i,2]
}
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
# dimension reduction
# Clustering
# prediction
rep(0, 12)
as.numeric(substr(as.character(tempseries[i,1]),6,7))
month
tempseries[1,2]
month_mean_sst
as.numeric(substr(as.character(tempseries[1,1]),6,7))
as.numeric(substr(as.character(tempseries[2,1]),6,7))
as.numeric(substr(as.character(tempseries[14,1]),6,7))
month_mean_sst
tempseries
max(tempseries)
max(tempseries[:,2])
max(tempseries[:,2])
head(tempseries)
head(tempseries)m
max(2,5)
max(tempseries[,2])
min(tempseries[,2])
mean(tempseries)
mean(tempseries[,2])
mean(month_mean_sst)
month_mean_sst
month_mean_sst[,3]
mean(month_mean_sst[,3])
mean(tempseries[,2])
s = c(1,2,7)
mean(s)
s2=c(2,6,8)
mean(s2)
mean(mean(s),mean(s2))
3.333333+5.333333
3.333333+5.333333
(3.333333+5.333333)/2
stot = c(s,s2)
mean(stot)
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + tempseries[i,2]
}
mean(tempseries[,2])
mean(month_mean_sst)
mean(month_mean_sst/842)
nrow(tempseries)
month_mean_sst/842
x2 <- month_mean_sst/842
mean(x2)
mean(tempseries[,2])
head(tempseries)
mean(abs(tempseries[,2]))
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
month_mean_sst
mean(month_mean_sst)
mean(month_mean_sst/842)
mean(abs(tempseries[,2]))
abs(tempseries[,2])
mean (abs(tempseries[,2]))
month_mean_sst1 <- month_mean_sst
month_mean_sst
month_mean_sst1
month_mean_sst1 <- month_mean_sst/842
month_mean_sst1
month_mean_prec
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + tempseries[i,2]
}
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
mean (abs(tempseries[,2]))
head(tempseries)
tempseries
nrow(tempseries)
month_mean_prec <- month_mean_prec/842
month_mean_prec
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + tempseries[i,2]
}
month_mean_prec <- month_mean_prec/842
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
mean(month_mean_prec)
head(month_mean_prec)
mean(month_mean_prec[,2])
mean(tempseries[,2])
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
tempseries
mean(tempseries[,2])
month_mean_prec
1948-2018
2018-1948
70*12
months_count = rep(70,12)
months_count = c(71, 71, rep(70,10))
months_count
sum(months_count)
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + tempseries[i,2]
}
months_count = c(71, 71, rep(70,10))
month_mean_prec <- month_mean_prec/months_count
mean(month_mean_prec)
mean(tempseries[,2])
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_sst <- month_mean_sst/months_count
mean(month_mean_sst)
mean(tempseries[,2])
mean(abs(tempseries[,2])
)
############## explanatory
# prec is a tensor that has 842 (months)matrices of size [x=120,y=50]
# convert the time to year
time_sst1 = time_sst * 30.42
time_sst2 <- as.Date(time_sst1, origin="1960-1-1 00:00", tz="UTC")
time_prec1 = time_prec * 30.42
time_prec2 <- as.Date(time_prec1, origin="1960-1-1 00:00", tz="UTC")
prec_mean <- apply(prec, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
jpeg("mean_prec_monthly.png", width=1600, height=1000, res=300)
tempseries %>% ggplot(aes(x=year,y=prec))+geom_line()+
labs(title = "Monthly mean precipitation from Jan. 1948 to Feb. 2018", x="year",y="Precipitation")
dev.off()
jpeg("mean_sst_monthly.png", width=1600, height=1000, res=300)
sst_mean <- apply(sst_anom, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_sst2, temperature=sst_mean)
tempseries %>% ggplot(aes(x=year,y=temperature))+geom_line()+
labs(title = "Monthly mean Temp. [Jan. 1948 to Feb. 2018]", x="year",y="SST anamolies")
dev.off()
# create a dataset with months_year and ids
months <- c(rep(seq(1,12),842/12),1,2)
month_name <- c("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec")
months_name <- c(rep(month_name,842/12), "Jan", "Feb")
ids <- seq(1,842)
year <- seq(1948,2018)
years <- list()
counter=1
for (y in year){
for (i in seq(1,12)){
years[counter] = y
counter = counter+1
}
}
years <- years[1:842]
years <- do.call(rbind.data.frame, years)
colnames(years) <- c('year')
months_years_id <- data.frame (ids, months, months_name)
months_years_id ["year"] = years
months_years_id ["prec_mean"] <- prec_mean
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#Prec for each month
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + tempseries[i,2]
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_prec <- month_mean_prec/months_count
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
# dimension reduction
# Clustering
# prediction
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + (tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + (tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
#month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
#month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + (tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
#month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
#month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
############## explanatory
# prec is a tensor that has 842 (months)matrices of size [x=120,y=50]
# convert the time to year
time_sst1 = time_sst * 30.42
time_sst2 <- as.Date(time_sst1, origin="1960-1-1 00:00", tz="UTC")
time_prec1 = time_prec * 30.42
time_prec2 <- as.Date(time_prec1, origin="1960-1-1 00:00", tz="UTC")
prec_mean <- apply(prec, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
jpeg("mean_prec_monthly.png", width=1600, height=1000, res=300)
tempseries %>% ggplot(aes(x=year,y=prec))+geom_line()+
labs(title = "Monthly mean precipitation from Jan. 1948 to Feb. 2018", x="year",y="Precipitation")
dev.off()
jpeg("mean_sst_monthly.png", width=1600, height=1000, res=300)
sst_mean <- apply(sst_anom, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_sst2, temperature=sst_mean)
tempseries %>% ggplot(aes(x=year,y=temperature))+geom_line()+
labs(title = "Monthly mean Temp. [Jan. 1948 to Feb. 2018]", x="year",y="SST anamolies")
dev.off()
# create a dataset with months_year and ids
months <- c(rep(seq(1,12),842/12),1,2)
month_name <- c("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec")
months_name <- c(rep(month_name,842/12), "Jan", "Feb")
ids <- seq(1,842)
year <- seq(1948,2018)
years <- list()
counter=1
for (y in year){
for (i in seq(1,12)){
years[counter] = y
counter = counter+1
}
}
years <- years[1:842]
years <- do.call(rbind.data.frame, years)
colnames(years) <- c('year')
months_years_id <- data.frame (ids, months, months_name)
months_years_id ["year"] = years
months_years_id ["prec_mean"] <- prec_mean
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
#month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#Prec for each month
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_prec <- month_mean_prec/months_count
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
# dimension reduction
# Clustering
# prediction
############## explanatory
# prec is a tensor that has 842 (months)matrices of size [x=120,y=50]
# convert the time to year
time_sst1 = time_sst * 30.42
time_sst2 <- as.Date(time_sst1, origin="1960-1-1 00:00", tz="UTC")
time_prec1 = time_prec * 30.42
time_prec2 <- as.Date(time_prec1, origin="1960-1-1 00:00", tz="UTC")
prec_mean <- apply(prec, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
jpeg("mean_prec_monthly.png", width=1600, height=1000, res=300)
tempseries %>% ggplot(aes(x=year,y=prec))+geom_line()+
labs(title = "Monthly mean precipitation from Jan. 1948 to Feb. 2018", x="year",y="Precipitation")
dev.off()
jpeg("mean_sst_monthly.png", width=1600, height=1000, res=300)
sst_mean <- apply(sst_anom, 3, mean,na.rm=TRUE)
tempseries <- data.frame(year=time_sst2, temperature=sst_mean)
tempseries %>% ggplot(aes(x=year,y=temperature))+geom_line()+
labs(title = "Monthly mean Temp. [Jan. 1948 to Feb. 2018]", x="year",y="SST anamolies")
dev.off()
# create a dataset with months_year and ids
months <- c(rep(seq(1,12),842/12),1,2)
month_name <- c("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec")
months_name <- c(rep(month_name,842/12), "Jan", "Feb")
ids <- seq(1,842)
year <- seq(1948,2018)
years <- list()
counter=1
for (y in year){
for (i in seq(1,12)){
years[counter] = y
counter = counter+1
}
}
years <- years[1:842]
years <- do.call(rbind.data.frame, years)
colnames(years) <- c('year')
months_years_id <- data.frame (ids, months, months_name)
months_years_id ["year"] = years
months_years_id ["prec_mean"] <- prec_mean
#temperature for each month
tempseries <- data.frame(year=time_prec2,sst=sst_mean)
month_mean_sst = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_sst[month] = month_mean_sst[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_sst <- month_mean_sst/months_count
month_mean_sst = data.frame(month_num=factor(c(1:12)),
month_name=month_name, sst=month_mean_sst)
jpeg("Months_allyears_SST.png", width=1600, height=1000, res=300)
ggplot(month_mean_sst, aes(x=factor(month_num),y=sst))+
geom_point(aes(x=month_num,y=sst)) +
scale_x_discrete(breaks = factor(c(1:12)), labels=month_name) +
labs(title = "Mean SST for each month", x="month",y="Temperature" )
dev.off()
#Prec for each month
tempseries <- data.frame(year=time_prec2,prec=prec_mean)
month_mean_prec = rep(0, 12)
for (i in 1:nrow(tempseries))
{
month = as.numeric(substr(as.character(tempseries[i,1]),6,7))
month_mean_prec[month] = month_mean_prec[month] + abs(tempseries[i,2])
}
# you need to get the average
months_count = c(71, 71, rep(70,10))
month_mean_prec <- month_mean_prec/months_count
month_mean_prec = data.frame(month_num=factor(c(1:12)), prec=month_mean_prec,
month_name=month_name)
jpeg("Months_allyears_prec.png", width=1600, height=1000, res=300)
ggplot(month_mean_prec, aes(x=factor(month_num),y=prec))+
geom_point(aes(x=month_num,y=prec)) +
scale_x_discrete(breaks = c(1:12), labels=month_name) +
labs(title = "Mean Precipitation for each month", x="month",y="Precipitation")
dev.off()
# dimension reduction
# Clustering
# prediction
